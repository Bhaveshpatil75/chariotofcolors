<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments :: head('Chariot Of Colors - Home Page')}"></head>

<body>

    <nav th:replace="~{fragments :: navbar}"></nav>

    <header class="hero">
        <div class="container">
            <h1>"Every artist dips his brush in his own soul."</h1>
            <p class="quote">- Henry Ward Beecher</p>
            <p style="margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto;">
                Welcome to Chariot Of Colors, where imagination meets the canvas.
                Explore our world of vibrant emotions and timeless pieces.
            </p>
            <br>
            <a th:href="@{/order}" class="btn">Book an Order</a>
        </div>
    </header>

    <section id="gallery" class="gallery-section">
        <div class="container">
            <h2 class="section-title">Selected Works</h2>
            <p style="text-align: center; color: var(--text-secondary); margin-bottom: 40px;">Click on any piece to see
                more details</p>

            <div class="carousel-container">
                <div class="carousel-track">
                    <div class="carousel-slide" th:each="art : ${artPieces}">
                        <div class="art-card">
                            <a th:href="@{/art/{id}(id=${art.id})}">
                                <img th:src="${not #strings.isEmpty(art.thumbnailUrl) ? art.thumbnailUrl : art.imageUrl}"
                                    th:alt="${art.title}" onerror="this.onerror=null;this.src='/images/loading.png';">
                                <div class="art-overlay">
                                    <h3 th:text="${art.title}">Title</h3>
                                    <p style="font-size: 0.9rem;" th:text="${art.category}">Category</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Controls removed as per request -->
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Carousel Logic
            const container = document.querySelector('.carousel-container');

            // Native Scroll Logic
            window.moveCarousel = function (direction) {
                const scrollAmount = container.clientWidth < 768 ? container.clientWidth : 350; // Scroll by one item approx

                // Check if at end to loop back
                if (direction > 0 && (container.scrollLeft + container.clientWidth >= container.scrollWidth - 10)) {
                    container.scrollTo({ left: 0, behavior: 'smooth' });
                }
                // Check if at start to loop to end
                else if (direction < 0 && container.scrollLeft <= 10) {
                    container.scrollTo({ left: container.scrollWidth, behavior: 'smooth' });
                }
                else {
                    container.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
                }
            }

            // Auto Slide (Faster: 2000ms) with Pause on Hover
            let autoSlideInterval = setInterval(() => {
                moveCarousel(1);
            }, 2000);

            container.addEventListener('mouseenter', () => {
                clearInterval(autoSlideInterval);
            });

            container.addEventListener('mouseleave', () => {
                autoSlideInterval = setInterval(() => {
                    moveCarousel(1);
                }, 2000);
            });

            // Reviews Mobile Logic
            const reviews = Array.from(document.querySelectorAll('.review-card'));

            if (window.innerWidth < 768) {
                reviews.forEach((review, index) => {
                    if (index >= 2) {
                        review.style.display = 'none';
                    }
                });
            }

            // Copy Phone Logic
            window.copyPhoneNumber = function () { // Expose to window
                const phoneElement = document.getElementById('phone-number');
                const originalText = phoneElement.innerText;
                const phoneNumber = originalText.trim();

                navigator.clipboard.writeText(phoneNumber).then(() => {
                    const originalColor = phoneElement.style.color;
                    phoneElement.style.color = '#4CAF50';
                    phoneElement.innerText = "Copied!";

                    setTimeout(() => {
                        phoneElement.style.color = originalColor;
                        phoneElement.innerText = originalText;
                    }, 1500);
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            }
        });
    </script>

    <section id="categories">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 40px;">Our Services & Price Range</h2>
            <div class="category-grid">
                <a th:href="@{/category/Canvas Painting}" class="cat-card">
                    <div class="cat-title">Canvas Paintings</div>
                    <div class="cat-price">Starts from ₹200</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">Oil, Acrylic, and
                        Mixed Media on high-quality canvas.</p>
                </a>
                <a th:href="@{/category/Wedding Gift}" class="cat-card">
                    <div class="cat-title">Wedding Gifts</div>
                    <div class="cat-price">Starts from ₹150</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">Couple portraits and
                        romantic sceneries.</p>
                </a>
                <a th:href="@{/category/Birthday Gift}" class="cat-card">
                    <div class="cat-title">Birthday Gifts</div>
                    <div class="cat-price">Starts from ₹100</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">Personalized pop-art
                        and fun caricatures.</p>
                </a>
                <a th:href="@{/category/Gifts for Lovers}" class="cat-card">
                    <div class="cat-title">Gifts for Lovers</div>
                    <div class="cat-price">Starts from ₹120</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">Sentimental sketches
                        and memory captures.</p>
                </a>
                <a th:href="@{/category/Home Decoration}" class="cat-card">
                    <div class="cat-title">Home Decorations</div>
                    <div class="cat-price">Starts from ₹300</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">Large scale abstract
                        and modern art for your walls.</p>
                </a>
                <a th:href="@{/category/Sketch}" class="cat-card">
                    <div class="cat-title">Sketches</div>
                    <div class="cat-price">Starts from ₹80</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">Pencil and charcoal
                        detailed sketches.</p>
                </a>
            </div>
        </div>
    </section>

    <section id="reviews" style="background: rgba(0,0,0,0.2);">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 40px;">What People Say</h2>
            <div class="review-grid">
                <div class="review-card" th:each="review : ${reviews}">
                    <div class="review-header">
                        <div class="reviewer-name" th:text="${review.reviewerName}">User</div>
                        <div class="review-date" th:text="${#temporals.format(review.deliveryDate, 'yyyy-MM-dd')}">
                            2024-01-01</div>
                    </div>
                    <div style="font-size: 0.8rem; color: var(--accent-primary); margin-bottom: 5px;">
                        <span th:text="${review.artType}">Type</span> - <span
                            th:text="${review.category}">Category</span>
                    </div>
                    <p style="font-style: italic;" th:text="${review.content}">"Great work!"</p>
                </div>
            </div>

            <!-- View More / Write Review Buttons -->
            <div
                style="text-align: center; margin-top: 40px; display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                <a th:href="@{/more-reviews}" class="btn"
                    style="background: transparent; border: 1px solid var(--accent-color);">View All Reviews</a>
                <a th:href="@{/write-review}" class="btn">Write a Review</a>
            </div>

        </div>
    </section>

    <section id="about">
        <div class="container grid-2">
            <div class="glass-panel">
                <h2>About Us</h2>
                <br>
                <p>
                    Chariot Of Colors is more than just a gallery; it is a movement.
                    We believe that color is a power which directly influences the soul.
                    Our team of passionate artists is dedicated to bringing your deepest visions to life through
                    strokes of genius and splashes of paint.
                </p>
            </div>
            <div>
                <img src="/images/about-us.png" alt="About Us"
                    onerror="this.onerror=null;this.src='/images/loading.png';"
                    style="width: 100%; filter: drop-shadow(0 10px 30px rgba(0,0,0,0.5)); transform: scale(1.05);">
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container" style="text-align: center;">
            <div class="glass-panel" style="max-width: 600px; margin: 0 auto;">
                <h2>Contact Us</h2>
                <br>
                <p>Have questions? Reach out to us directly.</p>
                <br>
                <p>Email: <strong><a href="mailto:chariotofcolors@gmail.com"
                            style="color: inherit; text-decoration: underline;">chariotofcolors@gmail.com</a></strong>
                </p>
                <p>Phone/Whatsapp: <strong id="phone-number" style="cursor: pointer;" title="Click to copy"
                        onclick="copyPhoneNumber()">+91 7498503673 </strong></p>

                <hr style="margin: 30px 0; border-color: rgba(255,255,255,0.1);">

                <h3>Register a Complaint</h3>
                <p style="font-size: 0.9rem; margin-bottom: 20px; color: var(--text-secondary);">We value your feedback.
                    Let us know if something went wrong.</p>

                <a th:href="@{/complaint}" class="btn" style="background: #ff4444; color: white;">File a Complaint</a>
            </div>
        </div>
    </section>

    <footer
        style="text-align: center; padding: 40px; color: var(--text-secondary); border-top: 1px solid var(--card-border); margin-top: 40px;">
        <p>Developed by <a href="https://github.com/Bhaveshpatil75">Bhavesh Patil</a></p>
    </footer>

    <div th:replace="~{fragments :: chat}"></div>
</body>

</html>